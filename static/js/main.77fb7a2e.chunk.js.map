{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","cardLikeButtonClassName","likes","some","i","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","noValidate","onSubmit","title","children","button","AddPlacePopup","useState","placeValue","setPlaceValue","placeLinkValue","setPlaceLinkValue","e","preventDefault","onAddCard","id","value","placeholder","required","minLength","maxLength","onChange","target","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","setValue","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","all","getProfileInfo","getInitialCards","user","method","body","JSON","stringify","isLiked","data","authorization","App","isEditAvatarPopupOpen","setEditAvatarPopup","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setEditPlacePopup","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setProfileAvatar","setProfileInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77fb7a2e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"Логотип Mesto\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n    `element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = isLiked ? \"element__button element__button_state_active\" : \"element__button\"; \r\n\r\n    function handleCardClick() {\r\n        props.onCardClick(props.card);\r\n    }  \r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    } \r\n    \r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    } \r\n\r\n    return (\r\n        <div className=\"element\">\r\n              <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n                  <img className=\"element__image\" src={props.card.link} alt={`${props.card.name}`} onClick={handleCardClick}/>\r\n              <div className=\"element__info\">\r\n                  <h2 className=\"element__heading\">{`${props.card.name}`}</h2>\r\n                  <div className=\"element__like-container\">\r\n                      <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                      <p className=\"element__like-count\">{`${props.card.likes.length}`}</p>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n  ","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n        <section className=\"profile\">\r\n            <div className=\"profile__edit-cover\" onClick={onEditAvatar}></div>\r\n                <img className=\"profile__avatar\" src={`${currentUser.avatar}`} alt=\"аватар\"/>\r\n            <div className=\"profile__container\">\r\n                <div className=\"profile__user-data\">\r\n                    <div className=\"profile__profile-info\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" onClick={onEditProfile} className=\"profile__edit-button\"></button>\r\n                    </div>\r\n                    <p className=\"profile__occupation\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" onClick={onAddPlace} className=\"profile__add-button\"></button>\r\n            </div>\r\n        </section>\r\n\r\n        <section className=\"elements\">\r\n            {cards.map(card => (\r\n                <Card \r\n                    card={card}\r\n                    key={card._id}\r\n                    onCardClick={onCardClick}\r\n                    onCardLike={onCardLike}\r\n                    onCardDelete={onCardDelete}\r\n                    />\r\n            ))\r\n            }\r\n        </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.name} ${props.isOpen ? 'popup_is-opened' : ' '}`}>\r\n        <div className=\"popup__container\">\r\n            <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n            <form className=\"form\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n            <h2 className=\"form__heading\">{props.title}</h2>\r\n            {props.children}\r\n            <button type=\"submit\" className=\"form__save-button\">{props.button}</button>\r\n            </form>\r\n        </div>\r\n    </div> \r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n            ","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [placeValue, setPlaceValue] = React.useState('');\r\n\r\n    function handlePlaceChange(e) {\r\n        setPlaceValue(e.target.value);\r\n    }\r\n\r\n    const [placeLinkValue, setPlaceLinkValue] = React.useState('');\r\n\r\n    function handlePlaceLinkChange(e) {\r\n        setPlaceLinkValue(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddCard({\r\n          name: placeValue,\r\n          link: placeLinkValue\r\n        });\r\n        setPlaceValue('')\r\n        setPlaceLinkValue('')\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Новое место\" name=\"card-popup\" button=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <fieldset className=\"form__user-info\">\r\n                <input id=\"title\" type=\"text\" className=\"form__field form__field_data_title\"\r\n                    name=\"name\" value={placeValue} placeholder=\"Название\" required minLength=\"2\" maxLength=\"40\" onChange={handlePlaceChange}/>\r\n                <span id=\"title-error\" className=\"form__error\">Вы пропустили это поле.</span>\r\n                <input id=\"link\" type=\"url\" className=\"form__field form__field_data_link\"\r\n                    name=\"link\" value={placeLinkValue} placeholder=\"Ссылка на картинку\"  required onChange={handlePlaceLinkChange}/>\r\n                <span id=\"link-error\" className=\"form__error\">Вы пропустили это поле.</span>\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    );\r\n\r\n}\r\n\r\nexport default AddPlacePopup;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name , setName] = React.useState('');\r\n    const [description , setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name)\r\n        setDescription(currentUser.about)\r\n        },[currentUser]);\r\n\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Редактировать профиль\" name=\"profile-popup\" button=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <fieldset className=\"form__user-info\">\r\n                <input id=\"name\" type=\"text\" className=\"form__field form__field_data_name\"\r\n                    name=\"name\" value={name} placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\r\n                <span id=\"name-error\" className=\"form__error\"></span>\r\n                <input id=\"occupation\" type=\"text\" className=\"form__field form__field_data_occupation\"\r\n                    name=\"about\" value={description} placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange}/>\r\n                <span id=\"occupation-error\" className=\"form__error\">Вы пропустили это поле.</span>\r\n            </fieldset>\r\n        </PopupWithForm>\r\n      );\r\n    }\r\n    \r\n    export default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const [value, setValue] = React.useState('');\r\n    const avatarRef = React.useRef('');\r\n\r\n    function handleLinkChange(e) {\r\n        setValue(e.target.value);\r\n      }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n        setValue('')\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Обновить аватар\" name=\"avatar-popup\" button=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <fieldset className=\"form__user-info\">\r\n                <input id=\"avatar-link\" type=\"url\" className=\"form__field form__field_data_link\"\r\n                    name=\"link\" value={value} placeholder=\"Ссылка на картинку\"  required ref={avatarRef} onChange={handleLinkChange}/>\r\n                <span id=\"avatar-link-error\" className=\"form__error\">Вы пропустили это поле.</span>\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    );\r\n\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n        <div className={`popup image-popup ${props.card ? 'popup_is-opened' : ' '}`}>\r\n            <div className=\"popup__container popup__container_function_image\">\r\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n                <figure className=\"popup__figure\">\r\n                    <img className=\"popup__image\" src={props.card ? props.card.link : \"\"} alt={props.card ? props.card.name : \"\"}/>\r\n                    <figcaption className=\"popup__caption\">{props.card ? props.card.name : \"\"}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;"," class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    _handleResponse(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n            }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getProfileInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse);\r\n    }\r\n\r\n    getAllNeededData() {\r\n        return Promise.all([this.getProfileInfo(), this.getInitialCards()]);\r\n      }\r\n\r\n    setProfileInfo(user) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n              name: user.name,\r\n              about: user.about\r\n            })\r\n        })\r\n        .then(this._handleResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if(!isLiked) {\r\n            return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers\r\n            })\r\n            .then(this._handleResponse);\r\n        } else {\r\n            return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: 'PUT',\r\n                headers: this._headers\r\n            })\r\n            .then(this._handleResponse);\r\n        }\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            }),\r\n        })\r\n        .then(this._handleResponse);\r\n    }\r\n\r\n    deleteCard(card) {\r\n        return fetch(`${this._url}/cards/${card._id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse);\r\n    }\r\n\r\n    setProfileAvatar(user) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: user.avatar\r\n            })\r\n        })\r\n        .then(this._handleResponse);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n    headers: {\r\n      authorization: '1ad7ccec-ea6a-44a0-b5d9-0e1200b1fa62',\r\n      \"Content-type\": \"application/json\"\r\n    }\r\n  });\r\n\r\n  export default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from \"../utils/Api.js\";\n\nfunction App() {\n    const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\n    const [isEditProfilePopupOpen, setEditProfilePopup] = React.useState(false);\n    const [isAddPlacePopupOpen, setEditPlacePopup] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getProfileInfo()\n        .then(res => {\n            setCurrentUser(res);\n          })\n          .catch((err) => console.log(err));\n        },[]);\n\n    React.useEffect(() => {\n        api.getInitialCards().then(res => {\n            setCards(res);\n            })\n            .catch((err) => console.log(err));\n        },[]);\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopup(true);\n    }\n    \n    function handleEditProfileClick() {\n        setEditProfilePopup(true);\n    } \n\n    function handleAddPlaceClick() {\n        setEditPlacePopup(true);\n    } \n\n    function handleCardClick(props) {\n        setSelectedCard(props);\n    } \n\n    function closeAllPopups() {\n        setEditAvatarPopup(false);\n        setEditProfilePopup(false);\n        setEditPlacePopup(false);\n        setSelectedCard(null);\n    }\n\n    function handleUpdateUser(user) {\n        api.setProfileInfo(user)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n          })\n          .catch((err) => console.log(err));\n    }\n    \n    function handleUpdateAvatar(user) {\n        api.setProfileAvatar(user)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        });\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card)\n        .then(() => {\n            setCards((state) => state.filter((c) => c._id !== card._id))\n        });\n    }\n\n    function handleAddCard(card) {\n        api.addCard(card)\n        .then(res => {\n            setCards([res, ...cards])\n            closeAllPopups();\n        })\n    }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n            <div className=\"page\">\n                <Header />\n                <Main onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                />\n                <Footer />\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddCard} />\n                {/* <PopupWithForm title=\"Вы уверены?\" name=\"popup-delete\" button=\"да\" /> */}\n                <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n            </div>    \n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}